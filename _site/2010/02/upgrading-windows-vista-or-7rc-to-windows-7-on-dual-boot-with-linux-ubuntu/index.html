<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Upgrading Windows Vista or 7RC to Windows 7 on dual boot with Linux (Ubuntu)</title>
   <meta name="author" content="Paul Craciunoiu" />
   <link href="http://feeds.feedburner.com/embrangler" rel="alternate" title="Paul Craciunoiu" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/main.css" type="text/css" media="screen, projection" />

</head>
<body>

<div class="site">

    <div id="header" role="banner">
        <h1 class="title">
            <a href="/">Disembrangling Programming</a>
        </h1>
        <h2 class="subtitle">
            <a href="/about" title="About Paul Craciunoiu">The simple life of a web developer &mdash; by Paul Craciunoiu<span> (About)</span></a>
        </h2>
    </div>
    <div id="content" role="main">    
    <div id="post">
<h1>Upgrading Windows Vista or 7RC to Windows 7 on dual boot with Linux (Ubuntu)</h1>

<p>As you may or may not know, the Windows 7 RC/beta/other releases expire at the latest on March 1st, 2 days from now. So I had to spend some time this weekend upgrading to a full Windows 7. Fortunately, my school offers Windows 7 Professional for free if you&#8217;re an engineering student (so we <em>do</em> get special treatment, aw!).</p>

<p>Anyway, if you&#8217;re like me, you&#8217;re dual booting Windows + Linux, and you have to reinstall Windows, you were probably using GRUB to boot into your <abbr title='Operating System'>OS</abbr>. Well, as it turns out, reinstalling Windows wipes out GRUB from the boot record. Oh no! What to do?</p>

<p>Fortunately, the solution is simple. I searched for &#8220;restore grub&#8221; and found <a href='http://ubuntuforums.org/showthread.php?t=1195275'>this excellent guide</a>.</p>

<p>The summary:</p>

<ol>
<li>
<p>Get a <a href='http://ubuntu.com'>Ubuntu</a> Live CD and boot from it.&lt;/li&gt;</p>
</li>

<li>
<p>Then run these in your terminal:</p>
<div class='highlight'><pre><code class='bash'>    sudo -i
 
 <span class='c'># get a list of your partitions in /dev/sdX format</span>
 fdisk -l
 
 <span class='c'># if you can&#39;t decide which one is your linux</span>
 <span class='c'># partition (see the System column?)</span>
 df -Th <span class='c'># lists partitions with size and % used</span>
 
 
 <span class='c'># mount your Ubuntu partition, mine was sda4</span>
 mount /dev/sdXY /mnt <span class='c'># </span>
 
 <span class='c'># install grub on the partition, mine was sda</span>
 grub-install --root-directory<span class='o'>=</span>/mnt /dev/sdX
 
 <span class='c'># be nice and unmount it, to avoid problems</span>
 umount /mnt
 
</code></pre>
</div></li>

<li>
<p>Reboot. <strong>Done!</strong> Your old GRUB shows up now.&lt;/li&gt;</p>
</li>
</ol>

<p>So that&#8217;s it. Hope this helps you avoid reinstalling Linux, which is really unnecessary :)</p>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul>
    
      <li><a href="/2010/01/my-sumo-local-development-environment">My SUMO local development environment</a> &mdash; 04 Jan 2010</li>
    
      <li><a href="/2010/03/quoteden-moving-to-kohana-3">Quoteden: Moving to Kohana 3</a> &mdash; 12 Mar 2010</li>
    
      <li><a href="/2009/11/hacking-wordpress-check-contact-messages-for-spam-using-wordpress-built-in-akismet-spam-for-comments">Hacking Wordpress: check contact messages for spam using Wordpress' built-in Akismet spam for comments</a> &mdash; 14 Nov 2009</li>
    
  </ul>
</div>

    </div>

    <div id="footer" role="contentinfo">
        <div class="about">
        <p>Hi, I'm Paul Craciunoiu! I work as a web developer for <a href="http://mozilla.com">Mozilla</a>, with main focus on <a href="http://www.djangoproject.com/">Django</a>, Python, and PHP. Occasionally, I write tutorials or post other information I find interesting.</p>
        <p>I enjoy doing freelance work for other websites, mostly non-profits. If you're interested in my services, contact me through one of the links below.</p>
        </p>
        </div>
        <div class="contact">
            <a href="http://twitter.com/embrangler/">Follow me</a> -- 
            <a href="http://craciunoiu.net/contact/paul">Email me</a> -- 
            <a href="http://github.com/pcraciunoiu/">My GitHub</a>
        </div>
        <div class="quote">
        <p>
            Success is a journey, not a destination. The doing is often more important than the outcome. &mdash; <a href="http://quoteden.net/author/id/337">Arthur Robert Ashe, Jr</a>
        </p>
        <p>&copy; Paul Craciunoiu. Some rights reserved. Brought to you by <a href="http://wiki.github.com/mojombo/jekyll/">Jekyll</a></p>
        </div>
    </div>
</div><!-- site -->

</body>
</html>
